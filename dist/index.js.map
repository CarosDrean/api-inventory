{"version":3,"sources":["../src/index.js"],"names":["app","use","express","json","origin","get","req","res","message","auth","checkHeaders","graphiql","schema","context","user","role","listen","PORT","console","log"],"mappings":";;AAAA;;AACA;;AACA;;AACA;;AACA;;AACA;;AACA;;AACA;;;;AAEA,IAAMA,GAAG,GAAG,0BAAZ;AACA;AAEAA,GAAG,CAACC,GAAJ,CAAQC,oBAAQC,IAAR,EAAR;AACAH,GAAG,CAACC,GAAJ,CAAQ,sBAAK;AAACG,EAAAA,MAAM,EAAE,CAAC,yCAAD,EAA4C,uBAA5C;AAAT,CAAL,CAAR;AAEAJ,GAAG,CAACK,GAAJ,CAAQ,GAAR,EAAa,UAACC,GAAD,EAAMC,GAAN,EAAc;AACvBA,EAAAA,GAAG,CAACJ,IAAJ,CAAS;AACLK,IAAAA,OAAO,EAAE;AADJ,GAAT;AAGH,CAJD;AAMAR,GAAG,CAACC,GAAJ,CAAQQ,iBAAKC,YAAb;AAEAV,GAAG,CAACC,GAAJ,CAAQ,UAAR,EAAoB,gCAAY,UAACK,GAAD;AAAA,SAAU;AACtCK,IAAAA,QAAQ,EAAE,IAD4B;AAEtCC,IAAAA,MAAM,EAAEA,kBAF8B;AAGtCC,IAAAA,OAAO,EAAE;AACLC,MAAAA,IAAI,EAAER,GAAG,CAACQ,IADL;AAELC,MAAAA,IAAI,EAAET,GAAG,CAACS;AAFL;AAH6B,GAAV;AAAA,CAAZ,CAApB;AASAf,GAAG,CAACgB,MAAJ,CAAWC,YAAX,EAAiB,YAAM;AACnBC,EAAAA,OAAO,CAACC,GAAR,CAAY,gBAAZ;AACH,CAFD","sourcesContent":["import express from 'express'\r\nimport \"@babel/polyfill\"\r\nimport graphqlHTTP from 'express-graphql'\r\nimport cors from 'cors'\r\nimport schema from './schema'\r\nimport { connect } from './database'\r\nimport { PORT } from './config'\r\nimport auth from './middlewares/auth'\r\n\r\nconst app = express()\r\nconnect()\r\n\r\napp.use(express.json())\r\napp.use(cors({origin: ['https://lapizcero-secre.firebaseapp.com', 'http://localhost:4200']}))\r\n\r\napp.get('/', (req, res) => {\r\n    res.json({\r\n        message: 'Welcome!'\r\n    })\r\n})\r\n\r\napp.use(auth.checkHeaders)\r\n\r\napp.use('/graphql', graphqlHTTP((req) => ({\r\n    graphiql: true,\r\n    schema: schema,\r\n    context: {\r\n        user: req.user,\r\n        role: req.role\r\n    }\r\n})))\r\n\r\napp.listen(PORT, () => {\r\n    console.log('Server online!')\r\n})"],"file":"index.js"}