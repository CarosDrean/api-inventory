{"version":3,"sources":["../../src/resolvers/measure.js"],"names":["Query","measure","_","_id","user","role","permission","isUser","Measure","findById","exec","measures","args","find","sort","Mutation","createMeasure","input","save","deleteMeasure","findByIdAndDelete","updateMeasure","findByIdAndUpdate","inventory","Inventory"],"mappings":"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","sourcesContent":["import Measure from '../models/measure'\r\nimport Inventory from '../models/inventory'\r\nimport permission from '../middlewares/permissions';\r\n\r\nexport default {\r\n    Query: {\r\n        measure: async(_, { _id }, { user, role }) => {\r\n            permission.isUser(user, role)\r\n            return await Measure.findById(_id).exec()\r\n        },\r\n        measures: async(_, args, { user, role }) => {\r\n            permission.isUser(user, role)\r\n            return await Measure.find().sort({_id: -1})\r\n        }\r\n    },\r\n    Mutation: {\r\n        createMeasure: async(_, { input }, { user, role }) => {\r\n            permission.isUser(user, role)\r\n            const measure = new Measure(input)\r\n            return await measure.save()\r\n        },\r\n        deleteMeasure: async(_, { _id }, { user, role }) => {\r\n            permission.isUser(user, role)\r\n            return await Measure.findByIdAndDelete(_id)\r\n        },\r\n        updateMeasure: async(_, { _id, input }, { user, role }) => {\r\n            permission.isUser(user, role)\r\n            return await Measure.findByIdAndUpdate(_id, input, { new: true })\r\n        }\r\n    },\r\n    Measure: {\r\n        inventory: async({ inventory }) => {\r\n            return await Inventory.findById({ _id: inventory })\r\n        }\r\n    }\r\n}"],"file":"measure.js"}