{"version":3,"sources":["../../src/resolvers/compatibility.js"],"names":["Query","compatibility","_","_id","user","role","permission","isUser","Compatibility","findById","exec","compatibilitys","args","find","sort","compatibilitysInventory","inventory","Mutation","createCompatibility","input","save","deleteCompatibility","findByIdAndDelete","updateCompatibility","findByIdAndUpdate","Inventory"],"mappings":"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","sourcesContent":["import Compatibility from '../models/compatibility'\r\nimport Inventory from '../models/inventory'\r\nimport permission from '../middlewares/permissions';\r\n\r\nexport default {\r\n    Query: {\r\n        compatibility: async(_, { _id }, { user, role }) => {\r\n            permission.isUser(user, role)\r\n            return await Compatibility.findById(_id).exec()\r\n        },\r\n        compatibilitys: async(_, args, { user, role }) => {\r\n            permission.isUser(user, role)\r\n            return await Compatibility.find().sort({_id: -1})\r\n        },\r\n        compatibilitysInventory: async(_, { inventory }, { user, role }) => {\r\n            permission.isUser(user, role)\r\n            return await Compatibility.find({inventory}).sort({_id: -1})\r\n        }\r\n    },\r\n    Mutation: {\r\n        createCompatibility: async(_, { input }, { user, role }) => {\r\n            permission.isUser(user, role)\r\n            const compatibility = new Compatibility(input)\r\n            return await compatibility.save()\r\n        },\r\n        deleteCompatibility: async(_, { _id }, { user, role }) => {\r\n            permission.isUser(user, role)\r\n            return await Compatibility.findByIdAndDelete(_id)\r\n        },\r\n        updateCompatibility: async(_, { _id, input }, { user, role }) => {\r\n            permission.isUser(user, role)\r\n            return await Compatibility.findByIdAndUpdate(_id, input, { new: true })\r\n        }\r\n    },\r\n    Compatibility: {\r\n        inventory: async({ inventory }) => {\r\n            return await Inventory.findById({ _id: inventory })\r\n        }\r\n    }\r\n}"],"file":"compatibility.js"}