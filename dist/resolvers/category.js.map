{"version":3,"sources":["../../src/resolvers/category.js"],"names":["Query","category","_","_id","user","role","Error","Category","findById","exec","categorys","args","permission","isUser","find","Mutation","createCategory","input","save","deleteCategory","findByIdAndDelete","updateCategory","findByIdAndUpdate"],"mappings":";;;;;;;AAAA;;AACA;;;;;;;;eAEe;AACXA,EAAAA,KAAK,EAAE;AACHC,IAAAA,QAAQ;AAAA;AAAA;AAAA,8BAAE,iBAAMC,CAAN;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAWC,gBAAAA,GAAX,QAAWA,GAAX;AAAoBC,gBAAAA,IAApB,SAAoBA,IAApB,EAA0BC,IAA1B,SAA0BA,IAA1B;;AAAA,oBACFD,IADE;AAAA;AAAA;AAAA;;AAAA,sBACU,IAAIE,KAAJ,CAAU,gBAAV,CADV;;AAAA;AAAA;AAAA,uBAEOC,sBAASC,QAAT,CAAkBL,GAAlB,EAAuBM,IAAvB,EAFP;;AAAA;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAAF;;AAAA;AAAA;AAAA;;AAAA;AAAA,OADL;AAKHC,IAAAA,SAAS;AAAA;AAAA;AAAA,8BAAE,kBAAMR,CAAN,EAASS,IAAT;AAAA;AAAA;AAAA;AAAA;AAAA;AAAiBP,gBAAAA,IAAjB,SAAiBA,IAAjB,EAAuBC,IAAvB,SAAuBA,IAAvB;;AACPO,wCAAWC,MAAX,CAAkBT,IAAlB,EAAwBC,IAAxB;;AADO;AAAA,uBAEME,sBAASO,IAAT,EAFN;;AAAA;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAAF;;AAAA;AAAA;AAAA;;AAAA;AAAA;AALN,GADI;AAWXC,EAAAA,QAAQ,EAAE;AACNC,IAAAA,cAAc;AAAA;AAAA;AAAA,8BAAE,kBAAMd,CAAN;AAAA;AAAA;AAAA;AAAA;AAAA;AAAWe,gBAAAA,KAAX,SAAWA,KAAX;AACNhB,gBAAAA,QADM,GACK,IAAIM,qBAAJ,CAAaU,KAAb,CADL;AAAA;AAAA,uBAEChB,QAAQ,CAACiB,IAAT,EAFD;;AAAA;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAAF;;AAAA;AAAA;AAAA;;AAAA;AAAA,OADR;AAKNC,IAAAA,cAAc;AAAA;AAAA;AAAA,8BAAE,kBAAMjB,CAAN;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAWC,gBAAAA,GAAX,SAAWA,GAAX;AAAA;AAAA,uBACCI,sBAASa,iBAAT,CAA2BjB,GAA3B,CADD;;AAAA;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAAF;;AAAA;AAAA;AAAA;;AAAA;AAAA,OALR;AAQNkB,IAAAA,cAAc;AAAA;AAAA;AAAA,8BAAE,kBAAMnB,CAAN;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAWC,gBAAAA,GAAX,SAAWA,GAAX,EAAgBc,KAAhB,SAAgBA,KAAhB;AAAA;AAAA,uBACCV,sBAASe,iBAAT,CAA2BnB,GAA3B,EAAgCc,KAAhC,EAAuC;AAAE,yBAAK;AAAP,iBAAvC,CADD;;AAAA;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAAF;;AAAA;AAAA;AAAA;;AAAA;AAAA;AARR;AAXC,C","sourcesContent":["import Category from '../models/category'\r\nimport permission from '../middlewares/permissions'\r\n\r\nexport default {\r\n    Query: {\r\n        category: async(_, { _id }, { user, role }) => {\r\n            if(!user) throw new Error(\"No autenticado\")            \r\n            return await Category.findById(_id).exec()\r\n        },\r\n        categorys: async(_, args, { user, role }) => {\r\n            permission.isUser(user, role)\r\n            return await Category.find()\r\n        }\r\n    },\r\n    Mutation: {\r\n        createCategory: async(_, { input }) => {\r\n            const category = new Category(input)\r\n            return await category.save()\r\n        },\r\n        deleteCategory: async(_, { _id }) => {\r\n            return await Category.findByIdAndDelete(_id)\r\n        },\r\n        updateCategory: async(_, { _id, input }) => {\r\n            return await Category.findByIdAndUpdate(_id, input, { new: true })\r\n        }\r\n    }\r\n}"],"file":"category.js"}